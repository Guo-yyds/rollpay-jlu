{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store';\nimport employeeLogin from '@/views/employeeLogin.vue';\nimport employeeHome from '@/views/employeeHome.vue';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  redirect: '/employeeHome',\n  children: [{\n    path: '/employeeHome',\n    component: employeeHome\n  }]\n}, {\n  path: '/employeeLogin',\n  component: employeeLogin\n}];\nconst router = new VueRouter({\n  routes\n});\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/employeeLogin'];\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next();\n    return;\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token;\n  if (token) {\n    next();\n  } else {\n    next('/adminLogin');\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","employeeLogin","employeeHome","use","routes","path","redirect","children","component","router","authUrls","beforeEach","to","from","next","includes","token","getters"],"sources":["D:/daima/vueProject/rollpay-vue-employee/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '@/store'\n\nimport employeeLogin from '@/views/employeeLogin.vue'\nimport employeeHome from '@/views/employeeHome.vue'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/employeeHome',\n    children: [\n      { path: '/employeeHome', component: employeeHome }\n    ]\n  },\n  { path: '/employeeLogin', component: employeeLogin }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/employeeLogin']\n\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next()\n    return\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token\n  if (token) {\n    next()\n  } else {\n    next('/adminLogin')\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,SAAS;AAE3B,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,YAAY,MAAM,0BAA0B;AACnDJ,GAAG,CAACK,GAAG,CAACJ,SAAS,CAAC;AAElB,MAAMK,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,QAAQ,EAAE,eAAe;EACzBC,QAAQ,EAAE,CACR;IAAEF,IAAI,EAAE,eAAe;IAAEG,SAAS,EAAEN;EAAa,CAAC;AAEtD,CAAC,EACD;EAAEG,IAAI,EAAE,gBAAgB;EAAEG,SAAS,EAAEP;AAAc,CAAC,CACrD;AAED,MAAMQ,MAAM,GAAG,IAAIV,SAAS,CAAC;EAC3BK;AACF,CAAC,CAAC;;AAEF;AACA,MAAMM,QAAQ,GAAG,CAAC,gBAAgB,CAAC;AAEnCD,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA;EACA,IAAIJ,QAAQ,CAACK,QAAQ,CAACH,EAAE,CAACP,IAAI,CAAC,EAAE;IAC9B;IACAS,IAAI,CAAC,CAAC;IACN;EACF;;EAEA;EACA,MAAME,KAAK,GAAGhB,KAAK,CAACiB,OAAO,CAACD,KAAK;EACjC,IAAIA,KAAK,EAAE;IACTF,IAAI,CAAC,CAAC;EACR,CAAC,MAAM;IACLA,IAAI,CAAC,aAAa,CAAC;EACrB;AACF,CAAC,CAAC;AAEF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}