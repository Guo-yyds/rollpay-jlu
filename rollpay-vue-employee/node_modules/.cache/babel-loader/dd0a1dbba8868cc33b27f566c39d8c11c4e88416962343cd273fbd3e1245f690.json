{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store';\nimport employeeLogin from '@/views/employeeLogin.vue';\nimport employeeHome from '@/views/employeeHome.vue';\nimport employeePayment from '@/views/employeePayment.vue';\nimport employeeShow from '@/views/employeeShow.vue';\nimport employeeInsert from '@/views/employeeInsert.vue';\nimport employeeUpdate from '@/views/employeeUpdate.vue';\nimport employeeDelete from '@/views/employeeDelete.vue';\nimport { timecardAdd } from '@/api/timecard';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  redirect: '/employeePayment',\n  component: employeeHome,\n  children: [{\n    path: '/employeePayment',\n    component: employeePayment\n  }, {\n    path: '/employeeInsert',\n    component: employeeInsert\n  }, {\n    path: '/employeeShow',\n    component: employeeShow\n  }, {\n    path: '/employeeUpdate',\n    component: employeeUpdate\n  }, {\n    path: '/employeeDelete',\n    component: employeeDelete\n  }, {\n    path: '/timecardAdd',\n    component: timecardAdd\n  }]\n}, {\n  path: '/employeeLogin',\n  component: employeeLogin\n}];\nconst router = new VueRouter({\n  routes\n});\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/employeeLogin'];\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next();\n    return;\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token;\n  if (token) {\n    next();\n  } else {\n    next('/employeeLogin');\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","employeeLogin","employeeHome","employeePayment","employeeShow","employeeInsert","employeeUpdate","employeeDelete","timecardAdd","use","routes","path","redirect","component","children","router","authUrls","beforeEach","to","from","next","includes","token","getters"],"sources":["D:/daima/vueProject/rollpay-vue-employee/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '@/store'\n\nimport employeeLogin from '@/views/employeeLogin.vue'\nimport employeeHome from '@/views/employeeHome.vue'\nimport employeePayment from '@/views/employeePayment.vue'\nimport employeeShow from '@/views/employeeShow.vue'\nimport employeeInsert from '@/views/employeeInsert.vue'\nimport employeeUpdate from '@/views/employeeUpdate.vue'\nimport employeeDelete from '@/views/employeeDelete.vue'\n\nimport { timecardAdd } from '@/api/timecard'\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/employeePayment',\n    component: employeeHome,\n    children: [\n      { path: '/employeePayment', component: employeePayment },\n      { path: '/employeeInsert', component: employeeInsert },\n      { path: '/employeeShow', component: employeeShow },\n      { path: '/employeeUpdate', component: employeeUpdate },\n      { path: '/employeeDelete', component: employeeDelete },\n      { path: '/timecardAdd', component: timecardAdd }\n    ]\n  },\n  { path: '/employeeLogin', component: employeeLogin }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/employeeLogin']\n\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next()\n    return\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token\n  if (token) {\n    next()\n  } else {\n    next('/employeeLogin')\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,SAAS;AAE3B,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,cAAc,MAAM,4BAA4B;AACvD,OAAOC,cAAc,MAAM,4BAA4B;AACvD,OAAOC,cAAc,MAAM,4BAA4B;AAEvD,SAASC,WAAW,QAAQ,gBAAgB;AAC5CV,GAAG,CAACW,GAAG,CAACV,SAAS,CAAC;AAElB,MAAMW,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,QAAQ,EAAE,kBAAkB;EAC5BC,SAAS,EAAEX,YAAY;EACvBY,QAAQ,EAAE,CACR;IAAEH,IAAI,EAAE,kBAAkB;IAAEE,SAAS,EAAEV;EAAgB,CAAC,EACxD;IAAEQ,IAAI,EAAE,iBAAiB;IAAEE,SAAS,EAAER;EAAe,CAAC,EACtD;IAAEM,IAAI,EAAE,eAAe;IAAEE,SAAS,EAAET;EAAa,CAAC,EAClD;IAAEO,IAAI,EAAE,iBAAiB;IAAEE,SAAS,EAAEP;EAAe,CAAC,EACtD;IAAEK,IAAI,EAAE,iBAAiB;IAAEE,SAAS,EAAEN;EAAe,CAAC,EACtD;IAAEI,IAAI,EAAE,cAAc;IAAEE,SAAS,EAAEL;EAAY,CAAC;AAEpD,CAAC,EACD;EAAEG,IAAI,EAAE,gBAAgB;EAAEE,SAAS,EAAEZ;AAAc,CAAC,CACrD;AAED,MAAMc,MAAM,GAAG,IAAIhB,SAAS,CAAC;EAC3BW;AACF,CAAC,CAAC;;AAEF;AACA,MAAMM,QAAQ,GAAG,CAAC,gBAAgB,CAAC;AAEnCD,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA;EACA,IAAIJ,QAAQ,CAACK,QAAQ,CAACH,EAAE,CAACP,IAAI,CAAC,EAAE;IAC9B;IACAS,IAAI,CAAC,CAAC;IACN;EACF;;EAEA;EACA,MAAME,KAAK,GAAGtB,KAAK,CAACuB,OAAO,CAACD,KAAK;EACjC,IAAIA,KAAK,EAAE;IACTF,IAAI,CAAC,CAAC;EACR,CAAC,MAAM;IACLA,IAAI,CAAC,gBAAgB,CAAC;EACxB;AACF,CAAC,CAAC;AAEF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}