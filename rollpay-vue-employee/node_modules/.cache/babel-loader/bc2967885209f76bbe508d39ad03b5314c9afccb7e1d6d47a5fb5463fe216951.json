{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport employeeLogin from '@/views/employeeLogin.vue';\nVue.use(VueRouter);\nconst routes = [{\n  path: '/',\n  redirect: '/employeeLogin'\n}, {\n  path: '/employeeLogin',\n  component: employeeLogin\n}];\nconst router = new VueRouter({\n  routes\n});\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/adminLogin'];\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next();\n    return;\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token;\n  if (token) {\n    next();\n  } else {\n    next('/adminLogin');\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","employeeLogin","use","routes","path","redirect","component","router","authUrls","beforeEach","to","from","next","includes","token","store","getters"],"sources":["D:/daima/vueProject/rollpay-vue-employee/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport employeeLogin from '@/views/employeeLogin.vue'\nVue.use(VueRouter)\n\nconst routes = [\n  { path: '/', redirect: '/employeeLogin' },\n  { path: '/employeeLogin', component: employeeLogin }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/adminLogin']\n\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next()\n    return\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token\n  if (token) {\n    next()\n  } else {\n    next('/adminLogin')\n  }\n})\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,aAAa,MAAM,2BAA2B;AACrDF,GAAG,CAACG,GAAG,CAACF,SAAS,CAAC;AAElB,MAAMG,MAAM,GAAG,CACb;EAAEC,IAAI,EAAE,GAAG;EAAEC,QAAQ,EAAE;AAAiB,CAAC,EACzC;EAAED,IAAI,EAAE,gBAAgB;EAAEE,SAAS,EAAEL;AAAc,CAAC,CACrD;AAED,MAAMM,MAAM,GAAG,IAAIP,SAAS,CAAC;EAC3BG;AACF,CAAC,CAAC;;AAEF;AACA,MAAMK,QAAQ,GAAG,CAAC,aAAa,CAAC;AAEhCD,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA;EACA,IAAIJ,QAAQ,CAACK,QAAQ,CAACH,EAAE,CAACN,IAAI,CAAC,EAAE;IAC9B;IACAQ,IAAI,CAAC,CAAC;IACN;EACF;;EAEA;EACA,MAAME,KAAK,GAAGC,KAAK,CAACC,OAAO,CAACF,KAAK;EACjC,IAAIA,KAAK,EAAE;IACTF,IAAI,CAAC,CAAC;EACR,CAAC,MAAM;IACLA,IAAI,CAAC,aAAa,CAAC;EACrB;AACF,CAAC,CAAC;AACF,eAAeL,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}