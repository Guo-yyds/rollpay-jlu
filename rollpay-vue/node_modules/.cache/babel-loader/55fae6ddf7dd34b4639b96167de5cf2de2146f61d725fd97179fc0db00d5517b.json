{"ast":null,"code":"export default {\n  name: 'TestApp',\n  methods: {\n    async downloadFile() {\n      const data = 'Hello, World!';\n      const fileName = 'example.txt';\n      const blob = new Blob([data], {\n        type: 'text/plain'\n      });\n      try {\n        const opts = {\n          types: [{\n            description: '文件',\n            accept: {\n              'text/plain': ['.txt'],\n              'application/pdf': ['.pdf'],\n              'image/jpeg': ['.jpg', '.jpeg'],\n              'image/png': ['.png']\n            }\n          }],\n          excludeAcceptAllOption: true\n        };\n        const handle = await window.showSaveFilePicker(opts); // 打开保存文件对话框\n        const writable = await handle.createWritable(); // 创建可写入的文件对象\n\n        // 在这里写入文件内容\n        await writable.write('这是文件的内容');\n        await writable.close();\n        console.log('文件保存成功');\n        windows.alert('success');\n      } catch (error) {\n        console.error('文件保存失败:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","methods","downloadFile","data","fileName","blob","Blob","type","opts","types","description","accept","excludeAcceptAllOption","handle","window","showSaveFilePicker","writable","createWritable","write","close","console","log","windows","alert","error"],"sources":["src/views/test.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <button @click=\"downloadFile\">下载文件</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TestApp',\r\n  methods: {\r\n    async downloadFile () {\r\n      const data = 'Hello, World!'\r\n      const fileName = 'example.txt'\r\n      const blob = new Blob([data], { type: 'text/plain' })\r\n\r\n      try {\r\n        const opts = {\r\n          types: [\r\n            {\r\n              description: '文件',\r\n              accept: {\r\n                'text/plain': ['.txt'],\r\n                'application/pdf': ['.pdf'],\r\n                'image/jpeg': ['.jpg', '.jpeg'],\r\n                'image/png': ['.png']\r\n              }\r\n            }\r\n          ],\r\n          excludeAcceptAllOption: true\r\n        };\r\n\r\n        const handle = await window.showSaveFilePicker(opts); // 打开保存文件对话框\r\n        const writable = await handle.createWritable(); // 创建可写入的文件对象\r\n\r\n        // 在这里写入文件内容\r\n        await writable.write('这是文件的内容');\r\n        await writable.close();\r\n\r\n        console.log('文件保存成功');\r\n        windows.alert('success');\r\n      } catch (error) {\r\n        console.error('文件保存失败:', error);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAOA;EACAA,IAAA;EACAC,OAAA;IACA,MAAAC,aAAA;MACA,MAAAC,IAAA;MACA,MAAAC,QAAA;MACA,MAAAC,IAAA,OAAAC,IAAA,EAAAH,IAAA;QAAAI,IAAA;MAAA;MAEA;QACA,MAAAC,IAAA;UACAC,KAAA,GACA;YACAC,WAAA;YACAC,MAAA;cACA;cACA;cACA;cACA;YACA;UACA,EACA;UACAC,sBAAA;QACA;QAEA,MAAAC,MAAA,SAAAC,MAAA,CAAAC,kBAAA,CAAAP,IAAA;QACA,MAAAQ,QAAA,SAAAH,MAAA,CAAAI,cAAA;;QAEA;QACA,MAAAD,QAAA,CAAAE,KAAA;QACA,MAAAF,QAAA,CAAAG,KAAA;QAEAC,OAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,KAAA;MACA,SAAAC,KAAA;QACAJ,OAAA,CAAAI,KAAA,YAAAA,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}