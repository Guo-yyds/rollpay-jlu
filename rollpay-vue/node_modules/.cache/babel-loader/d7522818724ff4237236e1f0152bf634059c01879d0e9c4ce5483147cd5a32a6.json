{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport adminLogin from '@/views/adminLogin';\nimport helloworld from '@/views/helloworld';\nVue.use(VueRouter);\nconst router = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/helloworld'\n  }, {\n    path: '/adminLogin',\n    component: adminLogin\n  }, {\n    path: '/helloworld',\n    component: helloworld\n  }]\n});\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/helloworld'];\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (!authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next();\n    return;\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token;\n  if (token) {\n    next();\n  } else {\n    next('/login');\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","adminLogin","helloworld","use","router","routes","path","redirect","component","authUrls","beforeEach","to","from","next","includes","token","store","getters"],"sources":["D:/daima/vueProject/rollpay-vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport adminLogin from '@/views/adminLogin'\nimport helloworld from '@/views/helloworld'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  routes: [\n    { path: '/', redirect: '/helloworld' },\n    { path: '/adminLogin', component: adminLogin },\n    { path: '/helloworld', component: helloworld }\n  ]\n})\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/helloworld']\n\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (!authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next()\n    return\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token\n  if (token) {\n    next()\n  } else {\n    next('/login')\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,UAAU,MAAM,oBAAoB;AAE3CH,GAAG,CAACI,GAAG,CAACH,SAAS,CAAC;AAElB,MAAMI,MAAM,GAAG,IAAIJ,SAAS,CAAC;EAC3BK,MAAM,EAAE,CACN;IAAEC,IAAI,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAc,CAAC,EACtC;IAAED,IAAI,EAAE,aAAa;IAAEE,SAAS,EAAEP;EAAW,CAAC,EAC9C;IAAEK,IAAI,EAAE,aAAa;IAAEE,SAAS,EAAEN;EAAW,CAAC;AAElD,CAAC,CAAC;;AAEF;AACA,MAAMO,QAAQ,GAAG,CAAC,aAAa,CAAC;AAEhCL,MAAM,CAACM,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA;EACA,IAAI,CAACJ,QAAQ,CAACK,QAAQ,CAACH,EAAE,CAACL,IAAI,CAAC,EAAE;IAC/B;IACAO,IAAI,CAAC,CAAC;IACN;EACF;;EAEA;EACA,MAAME,KAAK,GAAGC,KAAK,CAACC,OAAO,CAACF,KAAK;EACjC,IAAIA,KAAK,EAAE;IACTF,IAAI,CAAC,CAAC;EACR,CAAC,MAAM;IACLA,IAAI,CAAC,QAAQ,CAAC;EAChB;AACF,CAAC,CAAC;AAEF,eAAeT,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}