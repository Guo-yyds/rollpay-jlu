{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store';\nimport adminLogin from '@/views/adminLogin';\nimport adminHome from '@/views/adminHome';\nimport adminShow from '@/views/adminShow';\nimport adminInsert from '@/views/adminInsert';\nimport adminUpdate from '@/views/adminUpdate';\nimport adminDelete from '@/views/adminDelete';\nVue.use(VueRouter);\nconst router = new VueRouter({\n  routes: [{\n    path: '/adminLogin',\n    component: adminLogin\n  }, {\n    path: '/',\n    component: adminHome,\n    redirect: '/adminHome',\n    children: [{\n      path: '/adminShow',\n      component: adminShow\n    }, {\n      path: '/adminInsert',\n      component: adminInsert\n    }, {\n      path: '/adminUpdate',\n      component: adminUpdate\n    }, {\n      path: '/adminDelete',\n      component: adminDelete\n    }]\n  }]\n});\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/adminLogin'];\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next();\n    return;\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token;\n  if (token) {\n    next();\n  } else {\n    next('/adminLogin');\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","adminLogin","adminHome","adminShow","adminInsert","adminUpdate","adminDelete","use","router","routes","path","component","redirect","children","authUrls","beforeEach","to","from","next","includes","token","getters"],"sources":["D:/daima/vueProject/rollpay-vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport store from '@/store'\nimport adminLogin from '@/views/adminLogin'\nimport adminHome from '@/views/adminHome'\nimport adminShow from '@/views/adminShow'\nimport adminInsert from '@/views/adminInsert'\nimport adminUpdate from '@/views/adminUpdate'\nimport adminDelete from '@/views/adminDelete'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  routes: [\n    { path: '/adminLogin', component: adminLogin },\n    {\n      path: '/',\n      component: adminHome,\n      redirect: '/adminHome',\n      children: [\n        { path: '/adminShow', component: adminShow },\n        { path: '/adminInsert', component: adminInsert },\n        { path: '/adminUpdate', component: adminUpdate },\n        { path: '/adminDelete', component: adminDelete }\n      ]\n\n    }\n\n  ]\n})\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/adminLogin']\n\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next()\n    return\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token\n  if (token) {\n    next()\n  } else {\n    next('/adminLogin')\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,WAAW,MAAM,qBAAqB;AAE7CR,GAAG,CAACS,GAAG,CAACR,SAAS,CAAC;AAElB,MAAMS,MAAM,GAAG,IAAIT,SAAS,CAAC;EAC3BU,MAAM,EAAE,CACN;IAAEC,IAAI,EAAE,aAAa;IAAEC,SAAS,EAAEV;EAAW,CAAC,EAC9C;IACES,IAAI,EAAE,GAAG;IACTC,SAAS,EAAET,SAAS;IACpBU,QAAQ,EAAE,YAAY;IACtBC,QAAQ,EAAE,CACR;MAAEH,IAAI,EAAE,YAAY;MAAEC,SAAS,EAAER;IAAU,CAAC,EAC5C;MAAEO,IAAI,EAAE,cAAc;MAAEC,SAAS,EAAEP;IAAY,CAAC,EAChD;MAAEM,IAAI,EAAE,cAAc;MAAEC,SAAS,EAAEN;IAAY,CAAC,EAChD;MAAEK,IAAI,EAAE,cAAc;MAAEC,SAAS,EAAEL;IAAY,CAAC;EAGpD,CAAC;AAGL,CAAC,CAAC;;AAEF;AACA,MAAMQ,QAAQ,GAAG,CAAC,aAAa,CAAC;AAEhCN,MAAM,CAACO,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA;EACA,IAAIJ,QAAQ,CAACK,QAAQ,CAACH,EAAE,CAACN,IAAI,CAAC,EAAE;IAC9B;IACAQ,IAAI,CAAC,CAAC;IACN;EACF;;EAEA;EACA,MAAME,KAAK,GAAGpB,KAAK,CAACqB,OAAO,CAACD,KAAK;EACjC,IAAIA,KAAK,EAAE;IACTF,IAAI,CAAC,CAAC;EACR,CAAC,MAAM;IACLA,IAAI,CAAC,aAAa,CAAC;EACrB;AACF,CAAC,CAAC;AAEF,eAAeV,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}