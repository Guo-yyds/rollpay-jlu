{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '@/store';\nimport adminLogin from '@/views/adminLogin';\nimport helloworld from '@/views/helloworld';\nimport adminHome from '@/views/adminHome';\nVue.use(VueRouter);\nconst router = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/adminHome'\n  }, {\n    path: '/helloworld',\n    component: helloworld\n  }, {\n    path: '/adminLogin',\n    component: adminLogin\n  }, {\n    path: '/adminHome',\n    component: adminHome,\n    children: {}\n  }]\n});\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/helloworld', '/adminHome'];\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (!authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next();\n    return;\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token;\n  if (token) {\n    next();\n  } else {\n    next('/adminLogin');\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","adminLogin","helloworld","adminHome","use","router","routes","path","redirect","component","children","authUrls","beforeEach","to","from","next","includes","token","getters"],"sources":["D:/daima/vueProject/rollpay-vue/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport store from '@/store'\nimport adminLogin from '@/views/adminLogin'\nimport helloworld from '@/views/helloworld'\nimport adminHome from '@/views/adminHome'\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  routes: [\n    { path: '/', redirect: '/adminHome' },\n    { path: '/helloworld', component: helloworld },\n    { path: '/adminLogin', component: adminLogin },\n    {\n      path: '/adminHome',\n      component: adminHome,\n      children: {\n\n      }\n    }\n\n  ]\n})\n\n// 定义一个数组，专门用户存放所有需要权限访问的页面\nconst authUrls = ['/helloworld', '/adminHome']\n\nrouter.beforeEach((to, from, next) => {\n  // console.log(to, from, next)\n  // 看 to.path 是否在 authUrls 中出现过\n  if (!authUrls.includes(to.path)) {\n    // 非权限页面，直接放行\n    next()\n    return\n  }\n\n  // 是权限页面，需要判断token\n  const token = store.getters.token\n  if (token) {\n    next()\n  } else {\n    next('/adminLogin')\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,SAAS,MAAM,mBAAmB;AAEzCL,GAAG,CAACM,GAAG,CAACL,SAAS,CAAC;AAElB,MAAMM,MAAM,GAAG,IAAIN,SAAS,CAAC;EAC3BO,MAAM,EAAE,CACN;IAAEC,IAAI,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAa,CAAC,EACrC;IAAED,IAAI,EAAE,aAAa;IAAEE,SAAS,EAAEP;EAAW,CAAC,EAC9C;IAAEK,IAAI,EAAE,aAAa;IAAEE,SAAS,EAAER;EAAW,CAAC,EAC9C;IACEM,IAAI,EAAE,YAAY;IAClBE,SAAS,EAAEN,SAAS;IACpBO,QAAQ,EAAE,CAEV;EACF,CAAC;AAGL,CAAC,CAAC;;AAEF;AACA,MAAMC,QAAQ,GAAG,CAAC,aAAa,EAAE,YAAY,CAAC;AAE9CN,MAAM,CAACO,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA;EACA,IAAI,CAACJ,QAAQ,CAACK,QAAQ,CAACH,EAAE,CAACN,IAAI,CAAC,EAAE;IAC/B;IACAQ,IAAI,CAAC,CAAC;IACN;EACF;;EAEA;EACA,MAAME,KAAK,GAAGjB,KAAK,CAACkB,OAAO,CAACD,KAAK;EACjC,IAAIA,KAAK,EAAE;IACTF,IAAI,CAAC,CAAC;EACR,CAAC,MAAM;IACLA,IAAI,CAAC,aAAa,CAAC;EACrB;AACF,CAAC,CAAC;AAEF,eAAeV,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}